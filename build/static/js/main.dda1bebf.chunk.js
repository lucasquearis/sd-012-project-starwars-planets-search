(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/star-wars-logo.f5bdff62.png"},function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(16),Object(n.createContext)([]));a(17);var i=function(){var e=Object(n.useContext)(o).planets;if(e.length>0){var t=Object.keys(e[0]).filter((function(e){return"residents"!==e}));return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-dark table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.name},t.map((function(t){return r.a.createElement("td",{"data-testid":"name"===t?"planet-name":"",key:e[t]},e[t])})))})))))}return r.a.createElement("h1",null,"Nothing...")},u=a(3),s=a(2),m=a(1),f=function(e){var t=e.testid,a=e.onClick,n=e.title;return r.a.createElement("button",{className:"btn btn-outline-warning",type:"button","data-testid":t,onClick:a},n)},d=function(e){var t=e.valueForm,a=e.type,n=e.title,c=e.id,l=e.name,o=e.testid,i=e.onChange;return r.a.createElement("label",{htmlFor:"filterByName"},n,r.a.createElement("input",{className:"form-control",type:a,value:t,id:c,name:l,"data-testid":o,onChange:i}))},p=function(e){var t=e.id,a=e.title,n=e.testid,c=e.onChange;return r.a.createElement("label",{className:"form-check-label",htmlFor:t},a,r.a.createElement("input",{name:"sort",id:t,"data-testid":n,type:"radio",value:t,onChange:c}))},b=function(e){var t=e.testid,a=e.value,n=e.id,c=e.onChange,l=e.array,o=e.title,i=e.name;return r.a.createElement("label",{htmlFor:t},o,r.a.createElement("select",{name:i,"data-testid":t,value:a,id:n,onChange:c},l.map((function(e){return r.a.createElement("option",{key:e},e)}))))},v=(a(18),function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({column:"population",comparison:"maior que",value:"100000"}),i=Object(m.a)(l,2),v=i[0],E=i[1],O=Object(n.useState)({column:"",sort:""}),j=Object(m.a)(O,2),h=j[0],g=j[1],C=Object(n.useContext)(o),y=C.setFilterNameProvider,N=C.setValuesFormProvider,k=C.valuesFormProvider,w=C.columnOptions,F=C.planets,S=C.setOrderedPlanets,x=function(e){var t=e.target,a=t.value;switch(t.id){case"column-filter":E(Object(s.a)(Object(s.a)({},v),{},{column:a}));break;case"comparison-filter":E(Object(s.a)(Object(s.a)({},v),{},{comparison:a}));break;case"value-filter":E(Object(s.a)(Object(s.a)({},v),{},{value:a}))}};Object(n.useEffect)((function(){y(a)}),[a,y]);var P=function(e){var t=e.target,a=t.name,n=t.value;return g("column"===a?Object(s.a)(Object(s.a)({},h),{},{column:n}):Object(s.a)(Object(s.a)({},h),{},{sort:n}))};return r.a.createElement("div",{className:"forms-container mb-3"},r.a.createElement("form",{className:"row g-3"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(d,{valueForm:v.nameInput,title:"Filter:",id:"filterByName",name:"name",testid:"name-filter",onChange:function(e){var t=e.target.value;c(t)}})),r.a.createElement("div",{className:"col-auto"},r.a.createElement(b,{title:"Select Column:",testid:"column-filter",value:v.column,id:"column-filter",onChange:x,array:w})),r.a.createElement("div",{className:"col-auto"},r.a.createElement(b,{title:"Comparison:",testid:"comparison-filter",value:v.comparison,id:"comparison-filter",onChange:x,array:["maior que","menor que","igual a"]})),r.a.createElement("div",{className:"col-auto"},r.a.createElement(d,{valueForm:v.value,type:"number",title:"Value:",id:"value-filter",testid:"value-filter",onChange:x})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("br",null),r.a.createElement(f,{testid:"button-filter",onClick:function(){N([].concat(Object(u.a)(k),[v]))},title:"Add Filter"}))),r.a.createElement("form",{className:"row g-3"},r.a.createElement("div",{className:"col-auto"},r.a.createElement(b,{testid:"column-sort",onChange:P,array:["population","orbital_period","diameter","rotation_period","surface_water"],title:"Sort by: ",name:"column"})),r.a.createElement("div",{className:"col-auto"},r.a.createElement(p,{id:"ASC",title:"ascending order",testid:"column-sort-input-asc",onChange:P})),r.a.createElement("div",{className:"col-auto"},r.a.createElement(p,{id:"DESC",title:"descending order",testid:"column-sort-input-desc",onChange:P})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("br",null),r.a.createElement(f,{testid:"column-sort-button",onClick:function(){var e=h.sort,t=h.column;if(e&&t){var a=Object(u.a)(F);a.sort((function(a,n){return"ASC"===e?a[t]-n[t]:"DESC"===e&&n[t]-a[t]})),S(a)}},title:"Sort"}))))}),E=a(4),O=a.n(E),j=a(7),h=function(){var e=Object(j.a)(O.a.mark((function e(){var t,a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-trybe.herokuapp.com/api/planets/",e.next=3,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,n=a.results,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,a=Object(u.a)(t).sort((function(e,t){var a=e.name,n=t.name;return a.localeCompare(n)})),r(a),console.log("api chamou");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),[a]},C=function(e){var t=e.children,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)([]),f=Object(m.a)(s,2),d=f[0],p=f[1],b=Object(n.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),v=Object(m.a)(b,2),E=v[0],O=v[1],j=Object(n.useState)([]),h=Object(m.a)(j,2),C=h[0],y=h[1],N=g(),k=Object(m.a)(N,1)[0],w=Object(n.useState)([]),F=Object(m.a)(w,2),S=F[0],x=F[1],P=Object(n.useState)([]),_=Object(m.a)(P,2),q=_[0],B=_[1];Object(n.useEffect)((function(){if(k){var e=Object(u.a)(k);e=e.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())})),y(e)}}),[k,l]),Object(n.useEffect)((function(){y(q)}),[q]),Object(n.useEffect)((function(){!function(){if(k&&d){var e=Object(u.a)(k);d.forEach((function(t){var a=t.column,n=t.comparison,r=t.value;switch(n){case"maior que":e=e.filter((function(e){return+e[a]>+r}));break;case"menor que":e=e.filter((function(e){return+e[a]<+r}));break;case"igual a":e=e.filter((function(e){return+e[a]===+r}))}})),y(e)}}()}),[k,d]),Object(n.useEffect)((function(){var e=d.map((function(e){return e.column})),t=["population","orbital_period","diameter","rotation_period","surface_water"].filter((function(t){return!e.includes(t)}));O(t),x(e)}),[d]);var V={setFilterNameProvider:i,setValuesFormProvider:p,setOrderedPlanets:B,valuesFormProvider:d,planets:C,columnOptions:E,arrayFiltersSelected:S,filters:{filterByName:{name:l},filterByNumericValues:d,order:{column:"Name",short:"ASC"}}};return r.a.createElement(o.Provider,{value:V},t)},y=function(){var e=Object(n.useContext)(o),t=e.arrayFiltersSelected,a=e.valuesFormProvider,c=e.setValuesFormProvider;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Filtred Options: "),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e,"data-testid":"filter"},r.a.createElement("button",{onClick:function(){return function(e){var t=a.filter((function(t){return t.column!==e}));c(t)}(e)},type:"button"},"x"),e)}))))},N=a(10),k=a.n(N),w=(a(20),function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header-hero"},r.a.createElement("img",{className:"hero",src:k.a,alt:"star-wars-logo"})),r.a.createElement("div",{className:"header-text"},r.a.createElement("p",null,"Find your destination, search your planet, all planets in one place.")))});var F=function(){return r.a.createElement(C,null,r.a.createElement(w,null),r.a.createElement(v,null),r.a.createElement(y,null),r.a.createElement(i,null))};a(21);l.a.render(r.a.createElement(F,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.dda1bebf.chunk.js.map